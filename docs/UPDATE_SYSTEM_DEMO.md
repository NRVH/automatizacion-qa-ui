# ๐ฌ Demo: Sistema de Auto-Actualizaciรณn

## Flujo de Usuario (QA)

### Escenario 1: Actualizaciรณn Automรกtica al Iniciar

```
[Usuario abre la app]
   โ
[App verifica actualizaciones en segundo plano]
   โ
[Si hay nueva versiรณn]
   โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  ๐ รcono con badge naranja aparece     โ
โ     (esquina superior derecha)          โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
   โ
[Usuario hace clic en ๐]
   โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  ๐ DIรLOGO DE ACTUALIZACIรN                  โ
โ                                               โ
โ  ๐ Actualizaciรณn Disponible                  โ
โ                                               โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ        โ
โ  โ Versiรณn 1.2.1          ๐ Hoy    โ        โ
โ  โ Versiรณn actual: 1.2.0  ๐ฆ 42 MB  โ        โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ        โ
โ                                               โ
โ  Novedades:                                   โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ          โ
โ  โ - โจ Nueva funcionalidad X      โ          โ
โ  โ - ๐ Fix: Error en terminal     โ          โ
โ  โ - โก Mejora: Git mรกs rรกpido     โ          โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ          โ
โ                                               โ
โ  [Ver en GitHub] [Mรกs tarde] [Actualizar]    โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
   โ
[Usuario hace clic en "Actualizar"]
   โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  ๐ฅ Descargando actualizaciรณn...              โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโ 65%               โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
   โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  ๐ฆ Extrayendo archivos...                    โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
   โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  โ๏ธ Instalando actualizaciรณn...               โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
   โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  ๐ Reiniciando aplicaciรณn...                 โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
   โ
[App se cierra]
   โ
[App se abre automรกticamente]
   โ
โ [Ahora en versiรณn 1.2.1]
```

---

### Escenario 2: Verificaciรณn Manual

```
[Usuario hace clic en menรบ โฎ]
   โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  ๐ Buscar actualizaciones      โ
โ  ๐ป Ver en GitHub               โ
โ  โโโโโโโโโโโโโโโโโ              โ
โ  โน๏ธ Acerca de                   โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
   โ
[Usuario selecciona "Buscar actualizaciones"]
   โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  โณ Verificando actualizaciones...โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
   โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  SI HAY ACTUALIZACIรN:                      โ
โ  โ Muestra diรกlogo (ver Escenario 1)       โ
โ                                             โ
โ  SI NO HAY ACTUALIZACIรN:                   โ
โ  โ No hay actualizaciones disponibles.     โ
โ     Tienes la รบltima versiรณn.               โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

## Flujo de Desarrollador

### Publicar Nueva Versiรณn

```
[Desarrollador hace cambios en cรณdigo]
   โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  ๐ Actualizar versiรณn                  โ
โ                                         โ
โ  app_constants.dart:                    โ
โ  appVersion = '1.2.1'                   โ
โ                                         โ
โ  pubspec.yaml:                          โ
โ  version: 1.2.1+4                       โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
   โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  git add .                              โ
โ  git commit -m "Release v1.2.1"         โ
โ  git push                               โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
   โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  git tag -a v1.2.1 -m "Version 1.2.1"   โ
โ  git push origin v1.2.1                 โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
   โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  flutter build windows --release        โ
โ  [Compilaciรณn: ~2-5 minutos]            โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
   โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  Crear ZIP del Release/                 โ
โ  estrella_roja_qa_bot_v1.2.1.zip        โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
   โ
[Ir a GitHub โ Releases โ Draft new release]
   โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  GitHub Release Form                          โ
โ                                               โ
โ  Tag: v1.2.1                                  โ
โ  Title: Versiรณn 1.2.1 - Mejoras              โ
โ  Description:                                 โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ          โ
โ  โ ## ๐ Novedades                 โ          โ
โ  โ - โจ Nueva funcionalidad        โ          โ
โ  โ - ๐ Fixes                      โ          โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ          โ
โ                                               โ
โ  ๐ Attach: [estrella_roja_qa_bot_v1.2.1.zip] โ
โ                                               โ
โ  [Publish release] โ                         โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
   โ
โ [Release publicado en GitHub]
   โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  Todos los usuarios verรกn la actualizaciรณn   โ
โ  en los prรณximos minutos/horas               โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

## Arquitectura del Sistema

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                   APP (Cliente)                 โ
โ                                                 โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ     โ
โ  โ  UpdateService                        โ     โ
โ  โ  โข checkForUpdates()                  โ     โ
โ  โ  โข downloadAndInstall()               โ     โ
โ  โ  โข _isNewerVersion()                  โ     โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ     โ
โ                    โ                            โ
โ                   HTTP                          โ
โ                    โ                            โ
โโโโโโโโโโโโโโโโโโโโโโผโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                     โ
                     โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ              GitHub API                         โ
โ  https://api.github.com/repos/                  โ
โ         NRVH/automatizacion-qa-ui/releases      โ
โ                                                 โ
โ  Response:                                      โ
โ  {                                              โ
โ    "tag_name": "v1.2.1",                        โ
โ    "body": "Changelog...",                      โ
โ    "published_at": "2025-10-10T...",            โ
โ    "assets": [{                                 โ
โ      "browser_download_url": "https://...",    โ
โ      "size": 44040192                           โ
โ    }]                                           โ
โ  }                                              โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                     โ
                     โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ           GitHub Releases Storage               โ
โ  https://github.com/NRVH/automatizacion-qa-ui/  โ
โ  releases/download/v1.2.1/                      โ
โ  estrella_roja_qa_bot_v1.2.1.zip                โ
โ                                                 โ
โ  [Binary ZIP File: ~40-60 MB]                   โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                     โ
                     โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ               APP (Cliente)                     โ
โ  1. Descarga ZIP                                โ
โ  2. Extrae archivos                             โ
โ  3. Crea script PowerShell                      โ
โ  4. Ejecuta script (reemplaza archivos)         โ
โ  5. Reinicia app                                โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

## Casos de Uso

### โ Actualizaciรณn Normal
- Usuario: QA Marรญa
- Situaciรณn: Hay nueva versiรณn 1.2.1 con mejoras
- Acciรณn: Ve badge naranja, hace clic, actualiza
- Resultado: App actualizada en 2 minutos

### ๐จ Actualizaciรณn Obligatoria
- Usuario: QA Pedro
- Situaciรณn: Versiรณn 1.3.0 tiene fix crรญtico (marcado [MANDATORY])
- Acciรณn: Intenta cerrar diรกlogo, no puede
- Resultado: DEBE actualizar antes de usar la app

### ๐ Verificaciรณn Manual
- Usuario: QA Ana
- Situaciรณn: No ha visto el badge, quiere verificar
- Acciรณn: Menรบ โ "Buscar actualizaciones"
- Resultado: Se entera de nueva versiรณn disponible

### โ Sin Conexiรณn
- Usuario: QA Luis
- Situaciรณn: No hay internet
- Acciรณn: App intenta verificar actualizaciรณn
- Resultado: Falla silenciosamente, app funciona normal

### ๐ฏ Primera Instalaciรณn
- Usuario: QA nuevo
- Situaciรณn: Instala por primera vez v1.2.0
- Acciรณn: Abre app
- Resultado: No ve notificaciones (ya estรก en รบltima versiรณn)

---

## Ventajas vs Distribuciรณn Manual

### โ ANTES (Sin auto-update)

```
Desarrollador hace fix
   โ
Compila nueva versiรณn
   โ
Copia ejecutable a shared folder
   โ
Envรญa email a QA: "Nueva versiรณn disponible"
   โ
Cada QA individualmente:
   โข Lee email
   โข Va a shared folder
   โข Copia archivos
   โข Cierra app
   โข Pega archivos nuevos
   โข Abre app
   โ
Tiempo total: 10-30 min por persona
Riesgo: QA no lee email, usa versiรณn vieja
```

### โ AHORA (Con auto-update)

```
Desarrollador hace fix
   โ
Publica release en GitHub (2 clics)
   โ
[AUTOMรTICO] Todos los QA ven notificaciรณn
   โ
Cada QA:
   โข Click en ๐
   โข Click en "Actualizar"
   โข Espera 2 min
   โ
Tiempo total: 2 minutos por persona
Garantรญa: Badge visible, imposible ignorarlo
```

---

## Estadรญsticas

**Tiempo de desarrollo**: ~2 horas
**Tiempo ahorrado por actualizaciรณn**: ~1 hora (para 10 QAs)
**ROI**: Despuรฉs de 3 actualizaciones ya valiรณ la pena

**Frecuencia esperada de updates**:
- Bugs crรญticos: 1-2 por semana
- Mejoras menores: 1 por semana
- Funcionalidades: 1-2 por mes

**Total**: ~6-10 actualizaciones por mes
**Tiempo ahorrado por mes**: ~6-10 horas del equipo

---

## Seguridad

โ Descarga desde GitHub (propiedad de Microsoft)
โ HTTPS obligatorio
โ Verifica tag de versiรณn
โ Usuario puede ver changelog antes de actualizar
โ Rollback manual disponible (descargar versiรณn anterior)
โ๏ธ PowerShell script (puede ser bloqueado por antivirus)

---

**Sistema listo para producciรณn** โจ
